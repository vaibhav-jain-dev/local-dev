# Configuration - auto-detects everything from git URLs
# Options per service:
#   enabled: true/false - whether to include in 'make run'
#   always-refresh: true - always pull latest (even without 'refresh' flag)
#   git_repo, git_branch, port, configs - standard settings

services:
  health-api:
    enabled: true
    git_repo: git@github.com:Orange-Health/health-api.git
    git_branch: master
    port: 8000
    # always-refresh: true  # uncomment to always pull latest
    configs:
      - source: configs/health_secrets.py
        dest: app/app/secrets.py
        required: true
      - source: configs/health_creds.json
        dest: serviceAccountKey.json
        required: false
        
  scheduler-api:
    enabled: true
    git_repo: git@github.com:Orange-Health/scheduler-api.git
    git_branch: master
    port: 8010
    configs:
      - source: configs/scheduler_secrets.py
        dest: app/app/secrets.py
        required: true
        
  oms-api:
    enabled: true
    git_repo: git@github.com:Orange-Health/oms.git
    git_branch: main
    port: 8080
    configs:
      - source: configs/oms.yaml
        dest: config/config.yaml
        required: true
      - source: config/oauth-client.json
        dest: config/oauth-client.json
        required: true

redis:
  namespace: s5
  deployment: redis
  port: 6379
